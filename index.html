<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>عيد ميلاد سعيد</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background: radial-gradient(ellipse at center, #000000 0%, #0d0d0d 100%);
      font-family: 'Tahoma', sans-serif;
      position: relative;
    }

    #stars {
      position: fixed;
      width: 100%;
      height: 100%;
      background: transparent url('https://raw.githubusercontent.com/VincentGarreau/particles.js/master/demo/media/bg-stars.png') repeat top center;
      z-index: 0;
      animation: starMove 200s linear infinite;
    }

    @keyframes starMove {
      0% { background-position: 0 0; }
      100% { background-position: 10000px 0; }
    }

    .content {
      position: absolute;
      z-index: 10;
      width: 100%;
      top: 20%;
      text-align: center;
      color: white;
      user-select: none;
    }

    h1 {
      font-size: 3.5em;
      color: #ffeb3b;
      text-shadow: 0 0 15px #eee01b;
      animation: floatText 3s ease-in-out infinite;
      margin-bottom: 10px;
    }

    @keyframes floatText {
      0% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0); }
    }

    #glow-text {
      font-size: 1.8em;
      color: #00ffff;
      text-shadow:
        0 0 5px #00ffff,
        0 0 10px #00ffff,
        0 0 20px #00ffff,
        0 0 40px #00ffff;
      animation: glow 2.5s ease-in-out infinite alternate;
      margin-bottom: 20px;
    }

    @keyframes glow {
      from {
        text-shadow:
          0 0 5px #00ffff,
          0 0 10px #00ffff,
          0 0 20px #00ffff,
          0 0 40px #00ffff;
      }
      to {
        text-shadow:
          0 0 10px #00ffff,
          0 0 20px #00ffff,
          0 0 30px #00ffff,
          0 0 50px #00ffff;
      }
    }

    .btn {
      margin-top: 20px;
      font-size: 2.2em;
      padding: 12px 25px;
      background-color: #fffb00;
      border: none;
      border-radius: 10px;
      color: rgb(0, 0, 0);
      cursor: pointer;
      box-shadow: 0 0 15px #f8de67;
      margin-bottom: 10px;
      user-select: none;
      transition: background-color 0.3s ease;
    }
    .btn:hover {
      background-color: #fff700cc;
    }

    .hidden-message {
      display: none;
      margin-top: 30px;
      font-size: 1.4em;
      color: #0ff;
      text-shadow: 0 0 10px rgb(11, 218, 21);
      user-select: none;
    }

    #gift-image {
      display: none;
      margin-top: 20px;
      width: 0px;
      border-radius: 50%;
      box-shadow: 0 0 25px #00ffffaa;
      animation: bounce 1.5s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-15px); }
    }

    #heart {
      position: fixed;
      bottom: 15px;
      left: 15px;
      font-size: 2.8em;
      color: #ff4081;
      animation: pulse 2s infinite;
      user-select: none;
      z-index: 20;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.3); }
    }

    #emojis-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      z-index: 5;
    }

    .emoji {
      position: absolute;
      font-size: 2.5em;
      opacity: 0.8;
      user-select: none;
      animation-name: fall;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }

    @keyframes fall {
      0% {
        transform: translateY(-50px) rotate(0deg);
        opacity: 0.8;
      }
      100% {
        transform: translateY(110vh) rotate(360deg);
        opacity: 0;
      }
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1;
    }
  </style>
</head>
<body>

  <div id="stars"></div>

  <div class="content" role="main" aria-label="تهنئة عيد ميلاد">
    <h1>🎉 happy birthday Akhyy LHACHEM 🎂</h1>
    <div id="glow-text">أتمنى لك يومًا مليئًا بالسعادة والفرح!</div>
    <button class="btn" onclick="showMessage()">🎁 اضغط هنا لفتح الرسالة</button>
    <div class="hidden-message" id="msg">💌 أتمنى لك عامًا رائعًا مليئًا بالفرح، الحب، والنجاح. أنت شخص لا يُعوّض! 💖</div>
    <img id="gift-image" src="https://i.imgur.com/BvX6YFF.png" alt="هدية عيد ميلاد" />
  </div>

  <div id="heart" aria-hidden="true">❤️</div>

  <div id="emojis-container" aria-hidden="true"></div>

  <canvas id="fireworks" aria-hidden="true"></canvas>

  <!-- صوت تهنئة -->
  <audio id="firework-sound" src="happy-birthday-in-english-male-15023.mp3" preload="auto"></audio>

  <script>
    // Canvas setup
    const canvas = document.getElementById('fireworks');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let fireworks = [];
    let intervalID;

    class Firework {
      constructor(x, y) {
        this.x = x;
        this.y = y;
        this.particles = [];

        const colors = ['#ff0', '#f0f', '#0ff', '#f00', '#0f0', '#00f'];
        for (let i = 0; i < 100; i++) {
          this.particles.push({
            x: x,
            y: y,
            speed: Math.random() * 5 + 2,
            angle: Math.random() * 2 * Math.PI,
            radius: 2 + Math.random() * 2,
            color: colors[Math.floor(Math.random() * colors.length)],
            alpha: 1,
            decay: Math.random() * 0.02 + 0.015
          });
        }
      }

      update() {
        this.particles.forEach(p => {
          p.x += Math.cos(p.angle) * p.speed;
          p.y += Math.sin(p.angle) * p.speed;
          p.alpha -= p.decay;
        });
        this.particles = this.particles.filter(p => p.alpha > 0);
      }

      draw(ctx) {
        this.particles.forEach(p => {
          ctx.beginPath();
          ctx.globalAlpha = p.alpha;
          ctx.fillStyle = p.color;
          ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
          ctx.fill();
        });
        ctx.globalAlpha = 1;
      }
    }

    function launchFirework(x, y) {
      fireworks.push(new Firework(x, y));
    }

    function loop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      fireworks.forEach(f => {
        f.update();
        f.draw(ctx);
      });
      fireworks = fireworks.filter(f => f.particles.length > 0);
      requestAnimationFrame(loop);
    }

    function startFireworks() {
      if (intervalID) return;
      intervalID = setInterval(() => {
        let x = Math.random() * canvas.width;
        let y = Math.random() * canvas.height / 2;
        launchFirework(x, y);
      }, 600);
    }

    function showMessage() {
      document.getElementById("msg").style.display = "block";
      document.getElementById("gift-image").style.display = "block";
      document.getElementById("firework-sound").play();
    }

    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    loop();
    startFireworks();

    // ✨ إضافة إيموجيات تتساقط
    const emojis = ['🎈', '🎉', '🎂', '🎁', '✨', '💖'];
    const container = document.getElementById('emojis-container');

    function createEmoji() {
      const emoji = document.createElement('div');
      emoji.classList.add('emoji');
      emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      emoji.style.left = Math.random() * 100 + 'vw';
      emoji.style.animationDuration = (4 + Math.random() * 3) + 's';
      emoji.style.fontSize = (20 + Math.random() * 20) + 'px';
      container.appendChild(emoji);

      // إزالة الإيموجي بعد انتهاء الحركة
      setTimeout(() => {
        emoji.remove();
      }, 7000);
    }

    setInterval(createEmoji, 400);

  </script>
</body>
</html>
